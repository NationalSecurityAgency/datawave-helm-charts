spring:
  lifecycle:
    # Set the shutdown grace period
    timeout-per-shutdown-phase: 5s

management:
  endpoint:
    # Enable the shutdown endpoint for the query service
    shutdown:
      enabled: true

# Query requires a client certificate
server:
  ssl:
    client-auth: NEED
  # Enable graceful shutdown
  shutdown: "graceful"

logging:
  level:
    root: DEBUG
    org.springframework.cloud.bootstrap.config: DEBUG
    datawave.microservice.query: DEBUG
    org.apache.kafka: ERROR
    datawave.microservice.query.storage: WARN

datawave:
  swagger:
    title: "Query Service"
    description: "REST API provided by the Query Service"
  query:
    nextCall:
      resultPollInterval: 500
      statusUpdateInterval: 500
    expiration:
      callTimeout: 1
      callTimeoutUnit: HOURS
      shortCircuitCheckTime: 60
      shortCircuitCheckTimeUnit: MINUTES
      shortCircuitTimeout: 55
      shortCircuitTimeoutUnit: MINUTES
      longRunningQueryTimeout: 24
      longRunningQueryTimeoutUnit: HOURS
    monitor:
      monitorInterval: 30
      monitorIntervalUnit: SECONDS
  doc:
    menu:
      extras: '<li><a href="http://                     :9995">Accumulo</a></li>'
  table:
    cache:
      enabled: false
  web:
    accumulo:
      uri: 'https://accumulo:9143/accumulo'
    cache:
      uri: 'https://cache:8843/cache'
    config:
      uri: 'https://configuration:8888/configserver'
    authorization:
      uri: 'https://authorization:8343/authorization'
    audit:
      uri: 'https://audit-service:9043/audit'
    metrics:
      uri: 'https://querymetric:8543/querymetric'
    dictionary:
      uri: 'https://dictionary:8643/dictionary'
    executor:
      uri: 'https://executor:8743/executor'

audit-client:
  discovery:
    enabled: false
  uri: '${AUDIT_SERVER_URL:http://audit-service:8080/audit}'
